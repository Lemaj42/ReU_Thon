{% block stylesheets %}
	<link rel="stylesheet" href="{{ asset('styles/Partials/footer.css') }}">
	<style>
		.accordion-content {
			display: none;
			padding-left: 20px;
		}
		.accordion-content.active {
			display: block;
		}
		.nav-item.has-submenu > .nav-link::after {
			content: '\25BC';
			margin-left: 5px;
			display: inline-block;
			transition: transform 0.3s ease;
		}
		.nav-item.has-submenu.active > .nav-link::after {
			transform: rotate(180deg);
		}
	</style>
{% endblock stylesheets %}

<nav class="navbar">
	<div class="navbar-container">
		<a href="{{ path('app_meeting_index') }}" class="navbar-brand">
			<img src="{{ asset('images/logo.svg') }}" alt="Logo" class="navbar-logo">
			ACCUEIL
		</a>

		<!-- Toggle button for mobile view -->
		<button class="navbar-toggle" aria-label="Toggle navigation">
			&#9776;
			<!-- Hamburger icon -->
		</button>

		<ul class="navbar-nav">
			{% if is_granted('ROLE_ADMIN') %}
				<li class="nav-item">
					<a href="{{ path('app_meeting_new') }}" class="nav-link">RÉUNIONS +</a>
				</li>
				<li class="nav-item has-submenu">
					<a href="#" class="nav-link accordion-toggle">USER</a>
					<ul class="accordion-content">
						<li>
							<a href="{{ path('app_user_new') }}" class="nav-link">Créer un utilisateur</a>
						</li>
						<li>
							<a href="{{ path('app_user_index') }}" class="nav-link">Liste des utilisateurs</a>
						</li>
					</ul>
				</li>
			{% endif %}

			<li class="nav-item">
				<a href="{{ path('app_user_profile') }}" class="nav-link">
					PROFIL
					{% if app.user and app.user.firstName is defined %}
						:
						{{ app.user.firstName }}
					{% endif %}
				</a>
			</li>

			<li class="nav-item">
				<a href="{{ path('app_logout') }}" class="nav-link">
					<img src="{{ asset('images/logout.png') }}" alt="Déconnexion" class="power-icon">
					DÉCONNEXION
				</a>
			</li>
		</ul>
	</div>
</nav>

<script>
	document.addEventListener('DOMContentLoaded', function () {
const accordionToggles = document.querySelectorAll('.accordion-toggle');

accordionToggles.forEach(toggle => {
toggle.addEventListener('click', function (e) {
e.preventDefault();
const parent = this.closest('.has-submenu');
const content = parent.querySelector('.accordion-content');

parent.classList.toggle('active');
content.classList.toggle('active');
});
});
});
</script>
